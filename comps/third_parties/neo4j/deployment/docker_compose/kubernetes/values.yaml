# Copyright (C) 2024 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

neo4j:
  name: "neo4j"
  passwordFromSecret: neo-creds
  env:
  - name: NEO4J_apoc_import_file_use__neo4j__config
    value: "true"
nodeSelector:
  nfs: enabled
env:
  NEO4J_PLUGINS: '["apoc"]'
apoc_config:
  apoc.import.file.enabled: "true"
  apoc.export.file.enabled: "true"
config:
  server.directories.import: "import"
  dbms.security.allow_csv_import_from_file_urls: "true"
  dbms.security.procedures.unrestricted: "apoc.*"
  dbms.security.procedures.allowlist: "apoc.*"
  server.config.strict_validation.enabled: "false"
  apoc.trigger.enabled: "true"
volumes:
  data:
    mode: dynamic
    dynamic:
      storageClassName: "csi-wekafs-fs"
      accessModes:
      - ReadWriteOnce
      requests:
        storage: 10Gi
